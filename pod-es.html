<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Cómo publicar tu primer Pod - Pol Quintana</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/clean-blog.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="index.html">Home</a>
                    </li>
                    <li>
                        <a href="blog.html">Blog</a>
                    </li>
                    <li>
                        <a href="about.html">About Me</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header class="intro-header" style="background-image: url('img/post-bg.jpg')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1>Cómo publicar tu primer Pod</h1>
                        <h2 class="subheading">Guia paso a paso</h2>
                        <span class="meta">Posted by <a>Pol Quintana</a></span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Post Content -->
    <article>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
<p>La razón principal de este post es que durante las ultimas semanas he estado preparando un pod para subir a CocoaPods, y he podido sentir en mis carnes que no hay documentación para principiantes. Pero gracias a la ayuda de grandes como Daniel García (<a href="https://twitter.com/fillito">@fillito</a>) he podido acabar lanzándolo.</p>

<p>Para intentar facilitar a la gente que se pueda encontrar en la misma situación en la que he encontrado yo, lanzo este pequeño tutorial en el que voy a explicar la manera que he usado.</p>

<h2>Preparando el terreno</h2>

<p>Hay muchas maneras de hacer un Pod y, sabiendo eso, yo voy a intentar explicar la manera que me parece más sencilla para los que empezamos.</p>

<p>Vamos a <a href="http://github.com">Github</a> y nos creamos una nueva repo. Cuando vayáis a crearlo, marcad la opción de que os genere el <strong>README</strong> y la <strong>Licencia</strong>. Así nos horraremos un poco de trabajo. Si ya tenéis un README y una Licencia preparada, no hace falta que los generéis.</p>

<p><img src="https://cloud.githubusercontent.com/assets/7887319/4941749/d0c5d24c-65e5-11e4-821a-321e86cf82ad.png" height="200px" /></p>

<p>Cuando este esté creado, usad vuestro cliente Git para clonarlo en vuestro ordenador. De ahora en adelante, durante este post, vamos a llamar <code>CarpetaPrincipal</code> a la carpeta que contiene nuestra repo en el ordenador.</p>

<p>En el momento que ya tenemos los archivos localmente, vamos a crearnos un nuevo proyecto en Xcode. Este proyecto serà la <code>Demo</code> de nuestro Pod, en este proyecto deberíamos demostrar lo que este puede hacer de manera simple y clara.</p>

<h5>Recomendación:</h5>

<pre><code>Una recomendación que recibí de Daniel García es crear este proyecto 
en un directorio fuera de el que estamos trabajando, renombrar la carpeta 
contenedora a Demo y meter esta carpeta dentro de la carpeta en la que estamos 
trabajando. Algo así:

Si la carpeta en la que trabajamos está localizada en 
/Documentos/CarpetaPrincipal, creamos un proyecto de XCode en el escritorio, 
por ejemplo. Entonces tendremos /Escritorio/ProyectoDeMiPod

Entonces renombraremos el "ProyectoDeMiPod" a "Demo", y lo moveremos a la 
carpeta /Documentos/CarpetaDeMiPod/ quedando una estructura así

/CarpetaPrincipal/
     README.md
     License.md
     /Demo
        /...

La finalidad de hacer esto es evitar hacer un proyecto llamado Demo, y que 
todas las clases que creemos lleven incrustada la palabra "Demo" y que tengan 
un nombre que a nosotros nos guste. Es una cuestión de estilo, así que podéis 
ignorar este consejo si no os parece adecuado
</code></pre>

<p>Una vez creado el proyecto, tenemos que crear una nueva carpeta en nuestra 
CarpetaPrincipal, esta carpeta va a contener los archivos que van a formar el Pod, 
los únicos que van a ser descargados por el usuario cuando éste use nuestra librería. 
De ahora en adelante vamos a llamar a esta carpeta <code>ContenidoDelPod</code></p>

<p>Una vez creada, metemos ahí los archivos que deseemos publicar. Ahora tenemos:</p>

<ul>
<li><code>/CarpetaPrincipal/</code>

<ul>
<li>README.md</li>
<li>License.md</li>
<li><code>/Demo</code>

<ul>
<li>/...</li>
</ul>
</li>
<li><code>/ContenidoDelPod</code>

<ul>
<li>/...       &lt;--- Archivos que se van a subir</li>
</ul>
</li>
</ul>
</li>
</ul>


<p>Una vez tenemos todos los archivos en su sitio, vamos a nuestro proyecto Demo. Nos creamos un nuevo grupo, y lo llamamos como nuestro pod. Ahora arrastramos el contenido de <code>ContenidoDelPod</code>dentro de este grupo, y escogemos estas opciones:</p>

<p><img src="https://cloud.githubusercontent.com/assets/7887319/4941826/7ca6eee8-65e6-11e4-8e47-8064f0c67ff4.png" height="200px" /></p>

<p>De esta manera, usaremos los archivos de la carpeta <code>/ContenidoDelPod</code> en nuestra Demo, sin hacer que estos archivos estén realmente dentro del proyecto, los tenemos "linkados". Podremos trabajar con ellos dentro del proyecto, de manera que podemos testear/actualizar o lo que queramos.</p>

<p>Por último, pero no menos importante, vamos a crear el *.podspec. Este archivo contiene la configuración de nuestro Pod. Podeis descargar el siguiente archivo, el cual va a ser igual que el ejemplo que voy a poner:</p>

<p style="text-align:center;"><a href= "http://www.filedropper.com/tutorial_8" class="icon fa-cloud-download"> Descargar</a></p>

<p>Vamos a verlo un poco más en detalle:</p>

<pre><code>Pod::Spec.new do |s|
  s.name         = "PQFCustomLoaders"
  s.version      = "0.0.1"
  s.summary      = "Collection of Custom Loaders highly customizable."
  s.homepage     = "https://github.com/poolqf/PQFCustomLoaders"
  s.license      = 'MIT'
  s.author       = "Pol Quintana"
  s.source       = { :git =&gt; "https://github.com/poolqf/PQFCustomLoaders.git", :tag =&gt; "0.0.1" }
  s.platform     = :ios, '7.0'
  s.source_files = 'PQFCustomLoaders'
  s.frameworks   = 'UIKit'
  s.requires_arc = true
  s.social_media_url = 'https://twitter.com/poolqf'
  s.dependency 'UIColor+FlatColors'
end
</code></pre>

<ul>
<li><strong>s.name</strong> : Nombre que le quieres poner a tu Pod</li>
<li><strong>s.version</strong> : Versión actual</li>
<li><strong>s.summary</strong> : Pequeña descripción</li>
<li><strong>s.homepage</strong> : Si tienes un portafolio donde haya una entrada donde se vea el proyecto, ponlo aquí</li>
<li><strong>s.license</strong>: Licencia que le aplicas</li>
<li><strong>s.author</strong> : Nombre del creador</li>
<li><strong>s.source</strong> :

<ul>
<li><strong>:git =></strong> : Link a la repo donde está localizado el proyecto (Toda la carpeta de la que hablamos antes debe estar en una Repo)</li>
<li><strong>:tag =></strong> : Tag, en github, al que apunta la versión que anteriormente hemos marcado en "s.version"</li>
</ul>
</li>
<li><strong>s.platform</strong> : :ios, '#Version de iOS mínima en la que funcionará#'</li>
<li><strong>s.source_files</strong>: Carpeta, dentro de tu Repo, donde están los archivos necesarios para que el Pod funcione. Así evitando que la gente que se instale tu pod tenga que meterse en su proyecto TU proyecto Demo y el resto de archivos que tengas.</li>
<li><strong>s.frameworks</strong> :</li>
<li><strong>s.requires_arc</strong>:</li>
<li><strong>s.social_media_url</strong> : https://twitter.com/tuNombreDeUsuario</li>
<li><strong>s.dependency</strong>: Otros pods que necesita tu Pod para funcionar correctamente.</li>
</ul>


<p>Ahora lo que tenemos que hacer es editarlo a nuestro gusto y renombrar el *.podspec con el nombre que le vamos a dar al Pod, quedando nuestra carpeta así:</p>

<ul>
<li><code>/CarpetaPrincipal/</code>

<ul>
<li>README.md</li>
<li>License.md</li>
<li>NombreDelPod.podspec &lt;---</li>
<li><code>/Demo</code>

<ul>
<li>/...</li>
</ul>
</li>
<li><code>/ContenidoDelPod</code>

<ul>
<li>/...</li>
</ul>
</li>
</ul>
</li>
</ul>


<p><strong>¡NO USEIS TEXTEDIT PARA EDITAR EL PODSPEC!</strong> Mi recomendación es que uséis XCode, pero hay muchos otros editores que funcionaran.</p>

<h2>Momento Pre-Subida</h2>

<p>Antes de subir el Pod, deberemos hacer un par de cosas. Primero, vamos a comprobar que nuestro *.podspec es correcto. Abrimos el Terminal y nos dirigimos a la <code>CarpetaPrincipal</code>.</p>

<p>Una vez allí, ejecutamos</p>

<pre><code>pod lib lint
</code></pre>

<p>Una vez hecho esto, iremos a nuestro cliente Git y vamos a publicar <strong>sólo</strong> nuestro *.podspec, el cual ya hemos verificado.</p>

<p>Ahora tenemos en nuestra repo un *.podspec que apunta a una versión (un tag), el cual aun no está creado en nuestra repo. Para arreglar esto volvemos a nuestro cliente Git y publicamos todo lo que no habíamos publicado antes.</p>

<p><strong>¡¡¡</strong> Y a este commit le añadimos un tag, que tiene que ser igual que el parametro <strong>s.version !!!!</strong></p>

<p>Ahora vamos a verificar que no sólo el *.podspec es correct, sino que todo la repo en Github está preparada para ser publicada en CocoaPods. Vamos a usar el comando:</p>

<pre><code>pod spec lint
</code></pre>

<p>Si todo es correcto, estaremos sólo a un paso de publicar nuestro primer Pod</p>

<h2>Vamos a publicar</h2>

<p>Ahora que tenemos todo preparado, sólo nos queda registrarnos en CocoaPods. Lo haremos de la siguiente manera.</p>

<p>Nos dirigimos a la <code>CarpetaPrincipal</code>desde el Terminal, y escribimos lo siguiente:</p>

<pre><code>pod trunk register pol.quintana1@gmail.com 'Pol Quintana' --description='macbook pro'
</code></pre>

<p><em>La descripción es un identificador del ordenador que usamos para subir el Pod. En CocoaPods el identificador no va por mail, sino por el ordenador que usemos.</em></p>

<p>Una vez hecho esto recibiremos un mail con un link de verificación. Una vez verificado... Vamos a publicar!</p>

<p>Para publicar usaremos el siguiente comando</p>

<pre><code>pod trunk push
</code></pre>

<p>Una vez introducido éste, y si todo va bien, ya estará publicado el Pod.</p>

<h2>Links</h2>

<ul>
<li><a href="http://guides.cocoapods.org/making/making-a-cocoapod.html">Guia en CocoaPods</a></li>
<li><a href="http://guides.cocoapods.org/making/getting-setup-with-trunk">Más información sobre el comando "trunk"</a></li>
</ul>
                </div>
            </div>
        </div>
    </article>

    <hr>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <ul class="list-inline text-center">
                        <li>
                            <a href="https://twitter.com/poolqf">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="http://es.linkedin.com/in/polquintana/">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="mailto:pol.quintana1@gmail.com">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    </ul>
                    <p class="copyright text-muted">Copyright &copy; Pol Quintana 2015</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="js/clean-blog.min.js"></script>

</body>

</html>
